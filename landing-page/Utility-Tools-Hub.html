<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Utility Tools Hub</title>

  <meta name="monetag" content="07f13656d6bf953f1ce3836506fbd340">
  
  <meta name="google-site-verification" content="C4kjVFRkp8L_JETvH1hs-vV-qu0V2_oDvNoQOFkrq74" />
  <!-- Primary Meta Tags -->
    <meta name="title" content="Utility Tools Hub – All-in-One Web Tools">
    <meta name="description" content="One-stop hub for useful tools: password generator, QR creator, to-do list, reminders, unit converter, and more—all on one page!">
    <meta name="keywords" content="online tools, utility hub, QR code generator, countdown timer, password generator, unit converter, to-do list, reminders">
    <meta name="author" content="iqbalullah jubreel">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://smartkitshub.vercel.app" />
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://smartkitshub.vercel.app">
    <meta property="og:title" content="Utility Tools Hub – All-in-One Web Tools">
    <meta property="og:description" content="Access handy utilities like timers, password generators, QR codes, and more—all in one page.">
    <meta property="og:image" content="https://smartkitshub.vercel.app/preview_image.jpg" />
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://smartkitshub.vercel.app">
    <meta name="twitter:title" content="Utility Tools Hub – All-in-One Web Tools">
    <meta name="twitter:description" content="Try tools like countdown timer, password generator, reminder maker, and more. Fast and easy to use.">
    <meta name="twitter:image" content="https://smartkitshub.vercel.app/preview_image.jpg" />
  <script src="https://cdn.jsdelivr.net/npm/mathjs@11/lib/browser/math.js"></script>
  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      display: flex;
      height: 100vh;
      background-color: #f9f9f9;
      overflow-x: hidden;
    }

    /* Sidebar with icons */
    .sidebar {
      width: 80px;
      background: linear-gradient(135deg, #2c3e50, #34495e);
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px 10px;
      box-shadow: 2px 0 15px rgba(0,0,0,0.1);
      position: relative;
      z-index: 100;
    }

    /* Logo/Brand at top */
    .logo {
      width: 50px;
      height: 50px;
      background: linear-gradient(45deg, #e74c3c, #c0392b);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      font-weight: bold;
      margin-bottom: 30px;
      box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
    }

    /* Tool icon buttons */
    .tool-icon {
      width: 60px;
      height: 60px;
      background: rgba(255,255,255,0.1);
      border: none;
      border-radius: 15px;
      color: white;
      font-size: 1.8rem;
      cursor: pointer;
      margin-bottom: 15px;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      backdrop-filter: blur(10px);
    }

    .tool-icon:hover {
      background: rgba(255,255,255,0.2);
      transform: translateX(5px) scale(1.05);
      box-shadow: 0 5px 20px rgba(0,0,0,0.2);
    }

    .tool-icon.active {
      background: linear-gradient(45deg, #e74c3c, #c0392b);
      box-shadow: 0 5px 20px rgba(231, 76, 60, 0.4);
    }

    /* Tooltip */
    .tool-icon::after {
      content: attr(data-tooltip);
      position: absolute;
      left: 70px;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0,0,0,0.8);
      color: white;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 0.8rem;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
      z-index: 1000;
    }

    .tool-icon:hover::after {
      opacity: 1;
    }

    /* Expanded sidebar overlay */
    .sidebar-overlay {
      position: fixed;
      top: 0;
      left: 80px;
      width: 250px;
      height: 100%;
      background: linear-gradient(135deg, #2c3e50, #34495e);
      color: white;
      padding: 20px;
      transform: translateX(-100%);
      transition: transform 0.3s ease;
      z-index: 99;
      box-shadow: 2px 0 20px rgba(0,0,0,0.2);
      overflow-y: auto;
    }

    .sidebar-overlay.active {
      transform: translateX(0);
    }

    .sidebar-overlay h2 {
      font-size: 1.4rem;
      margin-bottom: 20px;
      border-bottom: 2px solid #e74c3c;
      padding-bottom: 10px;
    }

    .nav-item {
      display: flex;
      align-items: center;
      padding: 12px 15px;
      margin: 8px 0;
      background: rgba(255,255,255,0.1);
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .nav-item:hover {
      background: rgba(255,255,255,0.2);
      transform: translateX(5px);
    }

    .nav-item.active {
      background: linear-gradient(45deg, #e74c3c, #c0392b);
    }

    .nav-item span {
      margin-left: 12px;
      font-size: 0.9rem;
    }

    /* Main content */
    .main-content {
      flex: 1;
      padding: 40px;
      overflow-y: auto;
      transition: filter 0.3s ease;
    }

    .main-content.blurred {
      filter: blur(2px);
    }

    /* Toggle button for expanded menu */
    .menu-toggle {
      width: 60px;
      height: 60px;
      background: rgba(255,255,255,0.2);
      border: none;
      border-radius: 15px;
      color: white;
      font-size: 1.2rem;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      backdrop-filter: blur(10px);
    }

    .menu-toggle:hover {
      background: rgba(255,255,255,0.3);
      transform: translateX(5px) scale(1.05);
      box-shadow: 0 5px 20px rgba(0,0,0,0.2);
    }

    /* Content styling */
    .content-box {
      display: none;
      margin-bottom: 2rem;
    }

    .content-box.active {
      display: block;
    }

    .tool-box {
      background: white;
      padding: 25px;
      margin-bottom: 20px;
      border-radius: 15px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
      border: 1px solid #eee;
    }

    h1, h2 {
      color: #2c3e50;
      margin-bottom: 20px;
    }

    button, input, textarea, select {
      padding: 0.5rem;
      margin: 0.5rem 0;
      font-size: 1rem;
      border-radius: 6px;
      border: 1px solid #ccc;
    }

    .counts {
      display: flex;
      justify-content: space-between;
      font-weight: bold;
    }

    /* Enhanced QR Code Generator Styles */
    .qr-input-group {
      margin-bottom: 20px;
    }

    .qr-input-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #333;
    }

    .qr-input-group input, .qr-input-group select {
      width: 100%;
      padding: 15px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      font-size: 1rem;
      transition: all 0.3s ease;
      box-sizing: border-box;
    }

    .qr-input-group input:focus, .qr-input-group select:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .qr-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }

    .qr-generate-btn {
      background: linear-gradient(45deg, #667eea, #764ba2);
      color: white;
      border: none;
      padding: 15px 30px;
      font-size: 1.1rem;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
      font-weight: 600;
    }

    .qr-generate-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
    }

    .qr-result {
      text-align: center;
      margin-top: 30px;
      padding: 30px;
      background: #f8f9fa;
      border-radius: 15px;
      display: none;
    }

    .qr-result.show {
      display: block;
    }

    .qr-code-container {
      display: inline-block;
      padding: 20px;
      background: white;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      margin-bottom: 25px;
    }

    .qr-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      justify-content: center;
      margin-bottom: 25px;
    }

    .action-btn {
      padding: 12px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
      text-decoration: none;
      color: white;
    }

    .download-btn {
      background: linear-gradient(45deg, #28a745, #20c997);
    }

    .copy-btn {
      background: linear-gradient(45deg, #17a2b8, #138496);
    }

    .action-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }

    .social-share {
      background: white;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.08);
      margin-top: 20px;
    }

    .social-share h3 {
      text-align: center;
      margin-bottom: 20px;
      color: #333;
      font-size: 1.3rem;
    }

    .social-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      justify-content: center;
    }

    .social-btn {
      width: 60px;
      height: 60px;
      border: none;
      border-radius: 15px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      color: white;
      font-size: 1.5rem;
      position: relative;
      overflow: hidden;
    }

    /* Social media brand colors and icons */
    .facebook { 
      background: #1877f2; 
    }
    .facebook::before {
      content: "";
      width: 24px;
      height: 24px;
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z'/%3E%3C/svg%3E") no-repeat center;
      background-size: contain;
    }
    
    .twitter { 
      background: #1da1f2; 
    }
    .twitter::before {
      content: "";
      width: 24px;
      height: 24px;
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z'/%3E%3C/svg%3E") no-repeat center;
      background-size: contain;
    }
    
    .linkedin { 
      background: #0077b5; 
    }
    .linkedin::before {
      content: "";
      width: 24px;
      height: 24px;
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z'/%3E%3C/svg%3E") no-repeat center;
      background-size: contain;
    }
    
    .whatsapp { 
      background: #25d366; 
    }
    .whatsapp::before {
      content: "";
      width: 24px;
      height: 24px;
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.520-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488'/%3E%3C/svg%3E") no-repeat center;
      background-size: contain;
    }
    
    .telegram { 
      background: #0088cc; 
    }
    .telegram::before {
      content: "";
      width: 24px;
      height: 24px;
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z'/%3E%3C/svg%3E") no-repeat center;
      background-size: contain;
    }
    
    .email { 
      background: #ea4335; 
    }
    .email::before {
      content: "";
      width: 24px;
      height: 24px;
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M24 5.457v13.909c0 .904-.732 1.636-1.636 1.636h-3.819V11.73L12 16.64l-6.545-4.91v9.273H1.636A1.636 1.636 0 0 1 0 19.366V5.457c0-.904.732-1.636 1.636-1.636h.832L12 11.724l9.532-7.903h.832c.904 0 1.636.732 1.636 1.636z'/%3E%3C/svg%3E") no-repeat center;
      background-size: contain;
    }

    .social-btn:hover {
      transform: translateY(-3px) scale(1.1);
      box-shadow: 0 8px 25px rgba(0,0,0,0.3);
    }

    /* Tooltip for social buttons */
    .social-btn::after {
      content: attr(data-tooltip);
      position: absolute;
      bottom: -40px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.8);
      color: white;
      padding: 6px 10px;
      border-radius: 6px;
      font-size: 0.8rem;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
      z-index: 1000;
    }

    .social-btn:hover::after {
      opacity: 1;
    }

    .preview-text {
      background: #e9ecef;
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
      font-family: monospace;
      font-size: 0.9rem;
      word-break: break-all;
    }

    /* Unit Converter Styling */
    #unitConverterContainer input, #unitConverterContainer select {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 1rem;
      box-sizing: border-box;
    }

    #unitConverterContainer button {
      width: 100%;
      padding: 12px;
      font-size: 1rem;
      background: #3498db;
      border: none;
      border-radius: 6px;
      color: #fff;
      cursor: pointer;
      margin-top: 8px;
      transition: background 0.3s ease;
    }

    #unitConverterContainer button:hover {
      background: #2980b9;
    }

    #ucResult {
      margin-top: 20px;
      font-weight: 600;
      font-size: 1.1rem;
      color: #2c3e50;
      min-height: 24px;
    }

    .spinner {
      border: 5px solid #f3f3f3;
      border-top: 5px solid #3498db;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* To-Do UI upgrade */
    #todo input[type="text"], #todo select {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      font-size: 1rem;
      border: 1px solid #ccc;
      border-radius: 6px;
      box-sizing: border-box;
    }

    #todo button {
      padding: 10px 16px;
      background: #2ecc71;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 8px;
      transition: background 0.3s ease;
    }

    #todo button:hover {
      background: #27ae60;
    }

    #taskBox {
      list-style: none;
      padding: 0;
      margin-top: 16px;
    }

    #taskTable th, #taskTable td {
      padding: 12px;
      border-bottom: 1px solid #ddd;
      text-align: left;
    }

    #taskTable tr:hover {
      background: #f1f1f1;
    }

    /* Backdrop */
    .backdrop {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.3);
      z-index: 98;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .backdrop.active {
      opacity: 1;
      visibility: visible;
    }

    /* Mobile responsive */
    @media (max-width: 768px) {
      .sidebar {
        width: 70px;
        padding: 15px 5px;
      }

      .tool-icon {
        width: 50px;
        height: 50px;
        font-size: 1.4rem;
      }

      .logo {
        width: 40px;
        height: 40px;
        font-size: 1.2rem;
      }

      .main-content {
        padding: 20px;
      }

      .qr-options {
        grid-template-columns: 1fr;
      }
      
      .social-buttons, .qr-actions {
        flex-direction: row;
        justify-content: center;
      }
      
      .action-btn {
        width: auto;
        min-width: 140px;
      }

      .social-btn {
        width: 50px;
        height: 50px;
      }
    }

    /* Enhanced button styling */
    .styled-button {
      background: linear-gradient(45deg, #3498db, #2980b9);
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
    }

    .styled-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
    }

    /* Tool title styling */
    .tool-title {
      color: #e74c3c;
      margin-bottom: 15px;
    }

  </style>
</head>
<body>

  <!-- Sidebar with tool icons -->
  <div class="sidebar">
    <!-- Logo/Brand -->
    <div class="logo">🛠️</div>
    
    <!-- Menu toggle for expanded view -->
    <button class="menu-toggle" onclick="toggleExpanded()">≡</button>
    
    <!-- Tool Icons -->
    <button class="tool-icon active" data-tooltip="Welcome" onclick="showContent('welcome')">✨</button>
    <button class="tool-icon" data-tooltip="Countdown Timer" onclick="showContent('timer')">🕑</button>
    <button class="tool-icon" data-tooltip="Password Generator" onclick="showContent('password')">🔐</button>
    <button class="tool-icon" data-tooltip="QR Code Generator" onclick="showContent('qr')">📷</button>
    <button class="tool-icon" data-tooltip="Random Facts" onclick="showContent('facts')">🧠</button>
    <button class="tool-icon" data-tooltip="Reminder Maker" onclick="showContent('reminder')">🔔</button>
    <button class="tool-icon" data-tooltip="Text Counter" onclick="showContent('textcounter')">📝</button>
    <button class="tool-icon" data-tooltip="To-Do List" onclick="showContent('todo')">✅</button>
    <button class="tool-icon" data-tooltip="Unit Converter" onclick="showContent('converter')">🔄</button>
  </div>

  <!-- Expanded sidebar overlay -->
  <div class="sidebar-overlay" id="sidebarOverlay">
    <h2>Utility Tools</h2>
    <div class="nav-item active" onclick="showContent('welcome')">✨ <span>Welcome</span></div>
    <div class="nav-item" onclick="showContent('timer')">🕑 <span>Countdown Timer</span></div>
    <div class="nav-item" onclick="showContent('password')">🔐 <span>Password Generator</span></div>
    <div class="nav-item" onclick="showContent('qr')">📷 <span>QR Code Generator</span></div>
    <div class="nav-item" onclick="showContent('facts')">🧠 <span>Random Facts</span></div>
    <div class="nav-item" onclick="showContent('reminder')">🔔 <span>Reminder Maker</span></div>
    <div class="nav-item" onclick="showContent('textcounter')">📝 <span>Text Counter</span></div>
    <div class="nav-item" onclick="showContent('todo')">✅ <span>To-Do List</span></div>
    <div class="nav-item" onclick="showContent('converter')">🔄 <span>Unit Converter</span></div>
  </div>

  <!-- Backdrop -->
  <div class="backdrop" id="backdrop" onclick="closeExpanded()"></div>

  <!-- Main Content -->
  <div class="main-content" id="mainContent">

    <!-- Welcome Page -->
    <div id="welcome" class="content-box active">
      <h1>Welcome to Utility Tools Hub 🛠️</h1>
      <p>Explore these handy tools—all integrated into one single web page:</p>
      <div class="tool-box">
        <h2 class="tool-title">🕑 Countdown Timer</h2>
        <p>Set a timer in minutes—it counts down and alerts you when you're done.</p>
      </div>
      <div class="tool-box">
        <h2 class="tool-title">🔐 Password Generator</h2>
        <p>Create secure passwords with options for upper/lowercase, numbers, symbols.</p>
      </div>
      <div class="tool-box">
        <h2 class="tool-title">📷 QR Code Generator</h2>
        <p>Enhanced QR code generator with customizable colors, sizes, and social sharing options.</p>
      </div>
      <div class="tool-box">
        <h2 class="tool-title">🧠 Random Facts Generator</h2>
        <p>Fetches 5 random facts via API—learn something new every time!</p>
      </div>
      <div class="tool-box">
        <h2 class="tool-title">🔔 Reminder Maker</h2>
        <p>Create reminders with titles and times—triggering browser alerts.</p>
      </div>
      <div class="tool-box">
        <h2 class="tool-title">📝 Text Counter</h2>
        <p>Live counts of words and characters as you type.</p>
      </div>
      <div class="tool-box">
        <h2 class="tool-title">✅ To‑Do List</h2>
        <p>Add tasks by category, stored locally and auto-clears after one week.</p>
      </div>
      <div class="tool-box">
        <h2 class="tool-title">🔄 Unit Converter</h2>
        <p>Convert between any units—massive coverage including metric, imperial, astronomical and more.</p>
      </div>
    </div>

    <!-- Timer -->
    <div id="timer" class="content-box">
      <h1>🕑 Countdown Timer</h1>
      <div class="tool-box">
        <input type="number" id="minutesInput" placeholder="Minutes" min="1" style="width: 100%; padding: 12px; font-size: 1rem;" />
        <button onclick="startCountdown()" class="styled-button" style="width: 100%; margin-top: 10px;">Start Timer</button>
        <div id="timerDisplay" style="font-size: 3rem; text-align: center; margin-top: 20px; color: #e74c3c; font-weight: bold;">00:00</div>
      </div>
    </div>

    <!-- Password Generator -->
    <div id="password" class="content-box">
      <h1>🔐 Password Generator</h1>
      <div class="tool-box">
        <label>Password Length:</label>
        <input type="number" id="passLength" min="4" max="64" value="12" style="width: 100%;" />

        <div style="margin-top:15px;">
          <label><input type="checkbox" id="upcase" checked /> Use Uppercase (A-Z)</label><br>
          <label><input type="checkbox" id="lowcase" checked /> Use Lowercase (a-z)</label><br>
          <label><input type="checkbox" id="nums" checked /> Use Numbers (0-9)</label><br>
          <label><input type="checkbox" id="syms" /> Use Symbols (!@#$...)</label>
        </div>

        <button onclick="genPass()" style="background:#2ecc71;color:#fff;border:none;margin-top:15px;border-radius:6px;width:100%;padding:12px;">Generate Password</button>

        <div style="margin-top:15px; display:flex; align-items:center; gap:10px;">
          <input id="passDisplay" readonly style="flex:1; padding:12px; font-weight:bold; background:#ecf0f1; color:#2c3e50; border:none; border-radius:6px;" />
          <button onclick="copyPass()" style="background:#3498db; color:#fff; border:none; padding:12px 16px; border-radius:6px; cursor:pointer;">Copy</button>
        </div>
      </div>
    </div>

    <!-- Enhanced QR Code Generator -->
    <div id="qr" class="content-box">
      <h1>📱 Enhanced QR Code Generator</h1>
      <div class="tool-box">
        <div class="qr-input-group">
          <label for="qrInput">Enter text or URL:</label>
          <input type="text" id="qrInput" placeholder="https://example.com or any text" />
        </div>
        
        <div class="qr-options">
          <div class="qr-input-group">
            <label for="qrSize">QR Code Size:</label>
            <select id="qrSize">
              <option value="200x200">Small (200x200)</option>
              <option value="300x300" selected>Medium (300x300)</option>
              <option value="400x400">Large (400x400)</option>
              <option value="500x500">Extra Large (500x500)</option>
            </select>
          </div>
          
          <div class="qr-input-group">
            <label for="qrColor">QR Code Color:</label>
            <select id="qrColor">
              <option value="000000" selected>Black</option>
              <option value="FF0000">Red</option>
              <option value="0000FF">Blue</option>
              <option value="008000">Green</option>
              <option value="800080">Purple</option>
              <option value="FF8C00">Orange</option>
            </select>
          </div>
        </div>
        
        <button onclick="generateQR()" class="qr-generate-btn">
          🚀 Generate QR Code
        </button>
        
        <div id="qrResult" class="qr-result">
          <div class="qr-code-container">
            <img id="qrImage" src="" alt="Generated QR Code" />
          </div>
          
          <div class="qr-actions">
            <button onclick="downloadQR()" class="action-btn download-btn">
              📥 Download QR
            </button>
            <button onclick="copyQRLink()" class="action-btn copy-btn">
              📋 Copy Link
            </button>
          </div>
          
          <div class="social-share">
            <h3>🌐 Share on Social Media</h3>
            <div class="social-buttons">
              <a href="#" id="facebookShare" class="social-btn facebook" target="_blank" data-tooltip="Share on Facebook">
              </a>
              <a href="#" id="twitterShare" class="social-btn twitter" target="_blank" data-tooltip="Share on Twitter">
              </a>
              <a href="#" id="linkedinShare" class="social-btn linkedin" target="_blank" data-tooltip="Share on LinkedIn">
              </a>
              <a href="#" id="whatsappShare" class="social-btn whatsapp" target="_blank" data-tooltip="Share on WhatsApp">
              </a>
              <a href="#" id="telegramShare" class="social-btn telegram" target="_blank" data-tooltip="Share on Telegram">
              </a>
              <a href="#" id="emailShare" class="social-btn email" target="_blank" data-tooltip="Share via Email">
              </a>
            </div>
            
            <div class="preview-text">
              <strong>Share Preview:</strong><br>
              <span id="sharePreview">Generate a QR code to see preview</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Random Facts -->
    <div id="facts" class="content-box">
      <h1>🧠 Random Facts Generator</h1>
      <div class="tool-box" style="text-align:center;">
        <button onclick="fetchFacts()" style="background:#e67e22; color:#fff; border:none; padding:12px 20px; font-size:1rem; border-radius:6px; cursor:pointer;">Get 5 Facts</button>
        <div id="factsLoading" style="margin-top:20px; display:none;">
          <div class="spinner" style="margin:auto;"></div>
          <p style="color:#888; margin-top:10px;">Fetching interesting facts...</p>
        </div>
        <ul id="factsList" style="margin-top:20px; text-align:left; list-style:disc; padding-left:20px;"></ul>
      </div>
    </div>

    <!-- Reminder Maker -->
    <div id="reminder" class="content-box">
      <h1>🔔 Reminder Maker</h1>
      <div class="tool-box">
        <label>Reminder Title:</label>
        <input type="text" id="remTitle" placeholder="e.g. Take medicine" style="width:100%; padding:12px; margin-bottom:10px; border-radius:6px; border:1px solid #ccc; box-sizing: border-box;" />

        <label>Reminder Time:</label>
        <input type="time" id="remTime" style="width:100%; padding:12px; margin-bottom:15px; border-radius:6px; border:1px solid #ccc; box-sizing: border-box;" />

        <button onclick="setReminder()" style="background:#e74c3c; color:#fff; border:none; padding:12px; width:100%; border-radius:6px; cursor:pointer;">Set Reminder</button>

        <div id="remList" style="margin-top:20px;">
          <h3 style="color:#333;">⏳ Upcoming Reminders:</h3>
          <ul id="remListUl" style="list-style:none; padding:0;"></ul>
        </div>
      </div>
    </div>

    <!-- Text Counter -->
    <div id="textcounter" class="content-box">
      <h1>📝 Live Text Counter</h1>
      <div class="tool-box" style="padding:25px;">
        <label for="textInput" style="font-weight:bold; margin-bottom:8px; display:block;">Enter your text:</label>
        <textarea id="textInput" placeholder="Start typing here..." rows="8" style="
          width: 100%;
          padding: 15px;
          border-radius: 8px;
          border: 1px solid #ccc;
          font-size: 1rem;
          font-family: 'Segoe UI', sans-serif;
          box-sizing: border-box;
          resize: vertical;
        "></textarea>

        <div class="counts" style="
          display: flex;
          justify-content: space-between;
          margin-top: 15px;
          font-weight: bold;
          font-size: 1.1rem;
          color: #2c3e50;
          background: #ecf0f1;
          padding: 12px;
          border-radius: 8px;
        ">
          <span id="wc">📝 Words: 0</span>
          <span id="cc">🔡 Characters: 0</span>
        </div>
      </div>
    </div>

    <!-- To-Do List -->
    <div id="todo" class="content-box">
      <h1>✅ To-Do List</h1>
      <div class="tool-box">
        <input type="text" id="taskInp" placeholder="Task description" style="width: 100%; box-sizing: border-box;" />
        <select id="taskCat" style="width: 100%; box-sizing: border-box;">
          <option>Work</option>
          <option>School</option>
          <option>Personal</option>
        </select>
        <input type="time" id="taskTime" style="width: 100%; box-sizing: border-box;" />
        <button onclick="addTask()" style="width: 100%;">Add Task</button>
      </div>

      <div class="tool-box" style="overflow-x:auto;">
        <table id="taskTable" style="width:100%; border-collapse:collapse;">
          <thead>
            <tr style="background:#ecf0f1;">
              <th>Description</th>
              <th>Category</th>
              <th>Due Time</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="taskBox"></tbody>
        </table>
      </div>
    </div>

    <!-- Unit Converter -->
    <div id="converter" class="content-box">
      <h1>🔄 Unit Converter</h1>
      <div class="tool-box">
        <div id="unitConverterContainer">
          <input type="number" id="inputValue" placeholder="Enter value" />
          <select id="fromUnit"></select>
          <select id="toUnit"></select>
          <button onclick="convertUnits()">Convert</button>
          <div id="ucResult"></div>
        </div>
      </div>
    </div>

  </div>

  <!-- Hidden audio element for reminders -->
  <audio id="remSound" src="https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg" preload="auto"></audio>

  <script>
    let currentActiveNav = 'welcome';
    let currentQRUrl = '';
    let currentContent = '';

    function showContent(id) {
      // Hide all content boxes
      const boxes = document.querySelectorAll('.content-box');
      boxes.forEach(box => box.classList.remove('active'));
      
      // Show selected content
      document.getElementById(id).classList.add('active');
      
      // Update active tool-icon
      const toolIcons = document.querySelectorAll('.tool-icon');
      toolIcons.forEach(icon => icon.classList.remove('active'));
      
      // Update active nav-item
      const navItems = document.querySelectorAll('.nav-item');
      navItems.forEach(item => item.classList.remove('active'));
      
      // Find and activate the correct buttons
      toolIcons.forEach(icon => {
        if (icon.onclick.toString().includes(`'${id}'`)) {
          icon.classList.add('active');
        }
      });
      
      navItems.forEach(item => {
        if (item.onclick.toString().includes(`'${id}'`)) {
          item.classList.add('active');
        }
      });
      
      currentActiveNav = id;
      closeExpanded(); // Close expanded menu after selection
    }

    function toggleExpanded() {
      const overlay = document.getElementById('sidebarOverlay');
      const backdrop = document.getElementById('backdrop');
      const mainContent = document.getElementById('mainContent');
      
      overlay.classList.toggle('active');
      backdrop.classList.toggle('active');
      mainContent.classList.toggle('blurred');
    }

    function closeExpanded() {
      const overlay = document.getElementById('sidebarOverlay');
      const backdrop = document.getElementById('backdrop');
      const mainContent = document.getElementById('mainContent');
      
      overlay.classList.remove('active');
      backdrop.classList.remove('active');
      mainContent.classList.remove('blurred');
    }

    // Timer
    let countdown;
    function startCountdown() {
      clearInterval(countdown);
      let m = parseInt(document.getElementById('minutesInput').value);
      if (isNaN(m) || m <= 0) { alert('Invalid minutes'); return; }
      let sec = m * 60;
      updateTimer(sec);
      countdown = setInterval(() => {
        sec--; updateTimer(sec);
        if (sec <= 0) { clearInterval(countdown); alert("⏰ Time's up!"); }
      }, 1000);
    }
    function updateTimer(s) {
      document.getElementById('timerDisplay').textContent =
        `${String(Math.floor(s / 60)).padStart(2,'0')}:${String(s % 60).padStart(2,'0')}`;
    }

    // Password
    function genPass() {
      let len = +document.getElementById('passLength').value, cs = '';
      if (document.getElementById('upcase').checked) cs += "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
      if (document.getElementById('lowcase').checked) cs += "abcdefghijklmnopqrstuvwxyz";
      if (document.getElementById('nums').checked) cs += "0123456789";
      if (document.getElementById('syms').checked) cs += "!@#$%^&*()_+[]{}|;:,.<>?";
      if (!cs) {
        document.getElementById('passDisplay').value = 'Choose at least one';
        return;
      }
      document.getElementById('passDisplay').value = Array.from({ length: len }, _ => cs[Math.floor(Math.random() * cs.length)]).join('');
    }

    function copyPass() {
      let passInput = document.getElementById('passDisplay');
      if (!passInput.value) return alert("Nothing to copy.");
      passInput.select();
      passInput.setSelectionRange(0, 99999);
      document.execCommand('copy');
      alert("🔒 Password copied to clipboard!");
    }

    // Enhanced QR Code Generator
    function generateQR() {
      const input = document.getElementById('qrInput').value.trim();
      const size = document.getElementById('qrSize').value;
      const color = document.getElementById('qrColor').value;
      
      if (!input) {
        alert('⚠ Please enter text or URL to generate QR code');
        return;
      }
      
      // Generate QR code URL
      currentQRUrl = `https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(input)}&size=${size}&color=${color}&bgcolor=FFFFFF`;
      currentContent = input;
      
      // Update QR image
      const qrImage = document.getElementById('qrImage');
      qrImage.src = currentQRUrl;
      
      // Show result section
      document.getElementById('qrResult').classList.add('show');
      
      // Update social sharing links
      updateSocialLinks();
      
      // Scroll to result
      document.getElementById('qrResult').scrollIntoView({ behavior: 'smooth' });
    }

    function updateSocialLinks() {
      const shareText = `Check out this QR code I generated! Scan it to access: ${currentContent}`;
      const shareUrl = currentQRUrl;
      
      // Update share preview
      document.getElementById('sharePreview').textContent = shareText;
      
      // Facebook
      document.getElementById('facebookShare').href = 
        `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shareUrl)}&quote=${encodeURIComponent(shareText)}`;
      
      // Twitter
      document.getElementById('twitterShare').href = 
        `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(shareUrl)}`;
      
      // LinkedIn
      document.getElementById('linkedinShare').href = 
        `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(shareUrl)}`;
      
      // WhatsApp
      document.getElementById('whatsappShare').href = 
        `https://wa.me/?text=${encodeURIComponent(shareText + ' ' + shareUrl)}`;
      
      // Telegram
      document.getElementById('telegramShare').href = 
        `https://t.me/share/url?url=${encodeURIComponent(shareUrl)}&text=${encodeURIComponent(shareText)}`;
      
      // Email
      document.getElementById('emailShare').href = 
        `mailto:?subject=${encodeURIComponent('QR Code Share')}&body=${encodeURIComponent(shareText + '\n\n' + shareUrl)}`;
    }

    function downloadQR() {
      if (!currentQRUrl) {
        alert('⚠ Generate a QR code first');
        return;
      }
      
      // Create download link
      const link = document.createElement('a');
      link.href = currentQRUrl;
      link.download = `qr-code-${Date.now()}.png`;
      link.target = '_blank';
      
      // Trigger download
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      
      // Show success message
      showToast('📥 QR code downloaded successfully!');
    }

    function copyQRLink() {
      if (!currentQRUrl) {
        alert('⚠ Generate a QR code first');
        return;
      }
      
      // Copy to clipboard
      navigator.clipboard.writeText(currentQRUrl).then(() => {
        showToast('📋 QR code link copied to clipboard!');
      }).catch(err => {
        // Fallback for older browsers
        const textArea = document.createElement('textarea');
        textArea.value = currentQRUrl;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);
        showToast('📋 QR code link copied to clipboard!');
      });
    }

    function showToast(message) {
      // Create toast element
      const toast = document.createElement('div');
      toast.textContent = message;
      toast.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: #28a745;
        color: white;
        padding: 15px 20px;
        border-radius: 8px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        z-index: 1000;
        font-weight: 600;
        animation: slideIn 0.3s ease;
      `;
      
      // Add slide-in animation
      const style = document.createElement('style');
      style.textContent = `
        @keyframes slideIn {
          from { transform: translateX(100%); opacity: 0; }
          to { transform: translateX(0); opacity: 1; }
        }
        @keyframes slideOut {
          from { transform: translateX(0); opacity: 1; }
          to { transform: translateX(100%); opacity: 0; }
        }
      `;
      document.head.appendChild(style);
      
      document.body.appendChild(toast);
      
      // Remove toast after 3 seconds
      setTimeout(() => {
        toast.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => {
          if (document.body.contains(toast)) document.body.removeChild(toast);
          if (document.head.contains(style)) document.head.removeChild(style);
        }, 300);
      }, 3000);
    }

    // Facts
    async function fetchFacts() {
      let ul = document.getElementById('factsList');
      let loader = document.getElementById('factsLoading');
      ul.innerHTML = '';
      loader.style.display = 'block';

      // Simulate 3-second loading
      await new Promise(r => setTimeout(r, 3000));

      for (let i = 0; i < 5; i++) {
        try {
          let r = await fetch('https://uselessfacts.jsph.pl/random.json?language=en');
          let j = await r.json();
          let li = document.createElement('li');
          li.textContent = j.text;
          ul.appendChild(li);
        } catch (e) {
          ul.innerHTML = '<li style="color:red;">Failed to fetch facts. Try again.</li>';
          break;
        }
      }

      loader.style.display = 'none';
    }

    // Reminder
    const REM_KEY = 'savedReminders';
    const sound = document.getElementById('remSound');

    // Request notification permission once
    if ('Notification' in window && Notification.permission !== 'granted') {
      Notification.requestPermission();
    }

    function loadReminders() {
      const arr = JSON.parse(localStorage.getItem(REM_KEY) || '[]');
      return arr;
    }

    function saveReminders(arr) {
      localStorage.setItem(REM_KEY, JSON.stringify(arr));
    }

    function drawReminders() {
      const ul = document.getElementById('remListUl');
      ul.innerHTML = '';
      const reminders = loadReminders();

      reminders.forEach((rem, idx) => {
        const li = document.createElement('li');
        li.style.marginBottom = '8px';
        li.style.display = 'flex';
        li.style.justifyContent = 'space-between';
        li.style.alignItems = 'center';
        li.style.background = '#ecf0f1';
        li.style.padding = '12px';
        li.style.borderRadius = '6px';

        const text = document.createElement('span');
        text.textContent = `📌 "${rem.title}" at ${rem.time}`;
        li.appendChild(text);

        const controls = document.createElement('span');

        const del = document.createElement('button');
        del.textContent = '✕';
        del.style.marginLeft = '8px';
        del.style.background = '#e74c3c';
        del.style.color = '#fff';
        del.style.border = 'none';
        del.style.padding = '6px 10px';
        del.style.borderRadius = '4px';
        del.style.cursor = 'pointer';
        del.onclick = () => deleteReminder(idx);
        controls.appendChild(del);

        li.appendChild(controls);
        ul.appendChild(li);
      });
    }

    function scheduleReminder(rem, idx) {
      const [hh, mm] = rem.time.split(':').map(Number);
      const now = new Date();
      const target = new Date();
      target.setHours(hh, mm, 0, 0);
      const ms = target - now;

      if (ms <= 0) {
        return;
      }

      rem.timeoutId = setTimeout(() => {
        // Play sound
        try {
          sound.currentTime = 0;
          sound.play().catch(e => console.error("Sound play error:", e));
        } catch (e) {
          console.error("Audio error:", e);
        }

        // Show Notification
        if ('Notification' in window && Notification.permission === 'granted') {
          new Notification("🔔 Reminder Due!", {
            body: `"${rem.title}" at ${rem.time}`,
            icon: 'https://cdn-icons-png.flaticon.com/512/1827/1827370.png'
          });
        } else {
          alert(`🔔 Reminder: "${rem.title}" at ${rem.time}`);
        }

        cleanupExpired();
      }, ms);
    }

    function setupReminders() {
      const rems = loadReminders();
      rems.forEach((rem, idx) => scheduleReminder(rem, idx));
      drawReminders();
    }

    function setReminder() {
      const title = document.getElementById('remTitle').value.trim();
      const time = document.getElementById('remTime').value;
      if (!title || !time) return alert("⚠️ Please enter both title and time.");

      const reminders = loadReminders();
      reminders.push({ title, time, ts: Date.now() });
      saveReminders(reminders);
      drawReminders();
      scheduleReminder(reminders[reminders.length - 1], reminders.length - 1);

      document.getElementById('remTitle').value = '';
      document.getElementById('remTime').value = '';
    }

    function deleteReminder(idx) {
      const rems = loadReminders();
      clearTimeout(rems[idx].timeoutId);
      rems.splice(idx, 1);
      saveReminders(rems);
      drawReminders();
    }

    function cleanupExpired() {
      const now = Date.now();
      let rems = loadReminders();
      rems = rems.filter(rem => {
        const [hh, mm] = rem.time.split(':').map(Number);
        const target = new Date();
        target.setHours(hh, mm, 0, 0);
        return target.getTime() > now;
      });
      saveReminders(rems);
      drawReminders();
    }

    // Text Counter
    document.getElementById('textInput').addEventListener('input', () => {
      let val = document.getElementById('textInput').value;
      document.getElementById('wc').textContent = `📝 Words: ${val.trim().split(/\s+/).filter(x => x).length}`;
      document.getElementById('cc').textContent = `🔡 Characters: ${val.length}`;
    });

    // To-Do
    const TASK_KEY = 'todoList';
    const WEEK = 7 * 24 * 60 * 60 * 1000;

    function addTask() {
      const desc = document.getElementById('taskInp').value.trim();
      const cat = document.getElementById('taskCat').value;
      const time = document.getElementById('taskTime').value;

      if (!desc || !time) return alert("Please fill in description and time.");

      const list = JSON.parse(localStorage.getItem(TASK_KEY) || '[]');
      list.push({ desc, cat, time, ts: Date.now() });
      localStorage.setItem(TASK_KEY, JSON.stringify(list));

      document.getElementById('taskInp').value = '';
      document.getElementById('taskTime').value = '';
      drawTasks();
    }

    function drawTasks() {
      const list = JSON.parse(localStorage.getItem(TASK_KEY) || '[]')
        .filter(t => Date.now() - t.ts < WEEK);
      localStorage.setItem(TASK_KEY, JSON.stringify(list));

      const tbody = document.getElementById('taskBox');
      tbody.innerHTML = '';

      list.forEach((t, i) => {
        const tr = document.createElement('tr');

        tr.innerHTML = `
          <td>${t.desc}</td>
          <td>${t.cat}</td>
          <td>${t.time}</td>
          <td>
            <button onclick="completeTask(${i})" style="background:#2ecc71;color:#fff;border:none;padding:6px 10px;border-radius:4px;margin-right:4px;">Done✅</button>
            <button onclick="editTask(${i})" style="background:#f39c12;color:#fff;border:none;padding:6px 10px;border-radius:4px;margin-right:4px;">Edit✏️</button>
            <button onclick="delTask(${i})" style="background:#e74c3c;color:#fff;border:none;padding:6px 10px;border-radius:4px;">Delete✕</button>
          </td>
        `;
        tbody.appendChild(tr);

        scheduleNotification(t, i);
      });
    }

    function delTask(i) {
      let list = JSON.parse(localStorage.getItem(TASK_KEY) || '[]');
      list.splice(i, 1);
      localStorage.setItem(TASK_KEY, JSON.stringify(list));
      drawTasks();
    }

    function editTask(i) {
      const list = JSON.parse(localStorage.getItem(TASK_KEY) || '[]');
      const t = list[i];

      document.getElementById('taskInp').value = t.desc;
      document.getElementById('taskCat').value = t.cat;
      document.getElementById('taskTime').value = t.time;

      list.splice(i, 1);
      localStorage.setItem(TASK_KEY, JSON.stringify(list));
      drawTasks();
    }

    function scheduleNotification(task, index) {
      if (!('Notification' in window)) return;

      const [hh, mm] = task.time.split(':').map(Number);
      const now = new Date();
      const due = new Date();
      due.setHours(hh, mm, 0, 0);

      if (due <= now) return;

      const timeout = due - now;

      setTimeout(() => {
        let currentList = JSON.parse(localStorage.getItem(TASK_KEY) || '[]');
        if (currentList[index]) {
          showTaskReminder(currentList[index]);
        }
      }, timeout);
    }

    function completeTask(i) {
      let list = JSON.parse(localStorage.getItem(TASK_KEY) || '[]');
      list.splice(i, 1);
      localStorage.setItem(TASK_KEY, JSON.stringify(list));
      drawTasks();
    }

    function showTaskReminder(task) {
      if (Notification.permission === 'granted') {
        new Notification("🔔 To-Do Reminder", {
          body: `You have not completed: "${task.desc}"`,
          icon: 'https://cdn-icons-png.flaticon.com/512/1827/1827370.png'
        });
      } else {
        alert(`🔔 Reminder: You have not completed "${task.desc}"`);
      }
    }

    // Unit Converter Setup
    const fromSel = document.getElementById('fromUnit'), toSel = document.getElementById('toUnit');
    Object.keys(math.Unit.UNITS).sort().forEach(u => {
      fromSel.add(new Option(u, u)); 
      toSel.add(new Option(u, u));
    });
    fromSel.value = 'm'; 
    toSel.value = 'ft';

    function convertUnits() {
      let val = parseFloat(document.getElementById('inputValue').value), 
          f = fromSel.value, 
          t = toSel.value, 
          resDiv = document.getElementById('ucResult');
      if (isNaN(val)) { 
        resDiv.textContent = 'Please enter a valid number.'; 
        return; 
      }
      try { 
        resDiv.textContent = `${val} ${f} = ${math.unit(val, f).to(t)}`; 
      }
      catch (e) { 
        resDiv.textContent = '❌ Conversion error: ' + e.message; 
      }
    }

    // Initialize
    setupReminders();
    drawTasks();

    // Request notification permission
    if ('Notification' in window && Notification.permission !== 'granted') {
      Notification.requestPermission();
    }

    // Close expanded sidebar with Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeExpanded();
      }
    });

    // Allow Enter key to generate QR in the enhanced QR generator
    document.getElementById('qrInput').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        generateQR();
      }
    });

    // Add some example suggestions for QR input
    const qrExamples = [
      'https://github.com',
      'https://google.com',
      'mailto:someone@example.com',
      'tel:+1234567890',
      'Your awesome text here!',
      'wifi:T:WPA;S:NetworkName;P:password;;'
    ];
    
    const qrInput = document.getElementById('qrInput');
    let qrExampleIndex = 0;
    
    // Cycle through examples as placeholder
    setInterval(() => {
      if (qrInput.value === '') {
        qrInput.placeholder = qrExamples[qrExampleIndex];
        qrExampleIndex = (qrExampleIndex + 1) % qrExamples.length;
      }
    }, 3000);

  </script>

  <!-- Google Adsense Code Script-->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7811351057458611"
     crossorigin="anonymous"></script>
</body>
</html>